{% extends 'AppBundle::main_layout.html.twig' %}

{% block content %}
    <h1 class="page-header">
        Toutes les stations
        <a class="btn icon-btn btn-success" href="">
            <span class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span>
        </a>
    </h1>

    <div class="row placeholders">

        <table class="datatable" id="stations">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Vélo disponible</th>
                    <th>Emplacement disponible</th>
                    <td>Nombre d'emplacement</td>
                    <td>CB</td>
                    <td>Dernière synchronisation</td>
                </tr>
            </thead>

            <tfoot>
                <tr>
                    <th>Nom</th>
                    <th>Vélo disponible</th>
                    <th>Emplacement disponible</th>
                    <td>Nombre d'emplacement</td>
                    <td>CB</td>
                    <td>Dernière synchronisation</td>
                </tr>
            </tfoot>
        {% for station in stations %}
            <tr>
                <td>{{ station }}</td>
                <td>{{ station.getLastBikeAvailable|length }}</td>
                <td>{{ station.getLastAttachsAvailable|length }}</td>
                <td>{{ station.nbAttachs }}</td>
                <td><i class="glyphicon glyphicon glyphicon-credit-card {% if station.paiement %}green{% else %}red{% endif %}"></i></td>
                <td>{{ station.lastupd|date('s') }}s</td>
            </tr>
        {% endfor %}
        </table>
    </div>
{% endblock %}

{% block script %}
    <script>
        $(document).ready(function() {
            var options =  {
                "paging":   false,
                "ordering": true,
                "info":     false
            };

            $('#stations').DataTable(options);
        });
    </script>
{% endblock %}
